{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b8857d9d5ea2d9e9.js","src/js/menu-header/switcher.js","src/js/menu-header/menu-header.js","src/js/support/support.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","node_modules/@parcel/runtime-js/lib/runtime-6b2b97763c126c45.js","node_modules/@parcel/runtime-js/lib/runtime-634f804d0a48911e.js","node_modules/@parcel/runtime-js/lib/runtime-94d9f55139db7716.js","node_modules/@parcel/runtime-js/lib/runtime-8a49fe8b0806d407.js","node_modules/@parcel/runtime-js/lib/runtime-2db8acb44c116833.js","node_modules/@parcel/runtime-js/lib/runtime-5bd27996b0e096c1.js","node_modules/@parcel/runtime-js/lib/runtime-b9f75d3541046f41.js","src/js/shopping-list/shopping-markup.js","src/js/shopping-list/shopping-list-main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.66702667.js\\\",\\\"lp5u4\\\":\\\"sprite.4fd37ecc.svg\\\",\\\"3244h\\\":\\\"empty-logo.4abada78.png\\\",\\\"jCYVU\\\":\\\"amazon.626c9508.png\\\",\\\"dm81U\\\":\\\"amazon@2x.104a65be.png\\\",\\\"h2fYN\\\":\\\"apple.652b354e.png\\\",\\\"4EHhF\\\":\\\"apple@2x.15632d7d.png\\\",\\\"kptGM\\\":\\\"bookShop.920db583.png\\\",\\\"dEH5X\\\":\\\"bookShop@2x.64833714.png\\\"}\"));","const bodyRef = document.querySelector('body');\nconst switherRef = document.querySelector('#switcher');\nconst savedSwitcherState = localStorage.getItem('THEME');\n\nswitherRef.addEventListener('change', () => {\n  localStorage.setItem('THEME', switherRef.checked === true ? `dark` : 'light');\n  bodyRef.classList.toggle('dark-theme');\n});\n\nfunction setPageThemeColorByLocalStorage() {\n  if (savedSwitcherState === 'light') {\n    switherRef.checked = false;\n  } else if (savedSwitcherState === 'dark') {\n    switherRef.checked = true;\n    bodyRef.classList.toggle('dark-theme');\n  }\n}\n\nsetPageThemeColorByLocalStorage();","import './switcher.js';\n\nconst mobileMenuBtn = document.querySelector('[data-mobile-menu-btn]');\nconst mobileMenu = document.querySelector('[data-mobile-menu]');\nconst body = document.querySelector('body');\n\nmobileMenuBtn.addEventListener('click', onOpenMobileMenu);\nfunction onOpenMobileMenu() {\n  mobileMenuBtn.classList.toggle('is-open');\n  mobileMenu.classList.toggle('is-open');\n  body.classList.toggle('mobile-menu-open');\n}\n\nfunction setActivePage() {\n  const links = document.querySelectorAll('.navigation-link');\n  const currentPage = window.location.href;\n  links.forEach(link => {\n    if (link.href === currentPage) {\n      link.classList.add('active');\n    }\n  });\n}\n\nsetActivePage();","const list = document.querySelector('.foundations-list');\nconst loadMoreButton = document.querySelector('.foundations-more');\n\nlet itemsPerPage = window.innerWidth < 768 ? 4 : 6;\nlet start = 0;\n\nshowItems(start, itemsPerPage);\n\nloadMoreButton.addEventListener('click', function () {\n  start += itemsPerPage;\n  if (start >= list.children.length) {\n    start = 0;\n  }\n  showItems(start, itemsPerPage);\n});\n\nfunction showItems(start, count) {\n  // Приховати усі елементи\n  for (let i = 0; i < list.children.length; i++) {\n    list.children[i].classList.add('hidden');\n  }\n\n  // Показати requested елементи\n  for (let i = start; i < start + count; i++) {\n    const item = list.children[i];\n    if (item) {\n      item.classList.remove('hidden');\n\n      let span = item.querySelector('span');\n      if (!span) {\n        span = document.createElement('span');\n        item.insertBefore(span, item.firstChild);\n      }\n      span.classList.add('foundation-counter');\n      span.textContent = '0' + (i + 1);\n    }\n  }\n\n  const lastItemIndex = start + count - 1;\n  if (lastItemIndex >= list.children.length - 1) {\n    loadMoreButton.classList.add('up');\n  } else {\n    loadMoreButton.classList.remove('up');\n  }\n\n  const visibleItems = document.querySelectorAll('.foundation.visible');\n  visibleItems.forEach((item, index) => {\n    setTimeout(() => {\n      item.style.opacity = '0';\n      item.style.pointerEvents = 'none';\n    }, index * 50);\n  });\n\n  setTimeout(() => {\n    for (let i = start; i < start + count; i++) {\n      const item = list.children[i];\n      if (item) {\n        item.classList.add('visible');\n        item.style.opacity = '1';\n        item.style.pointerEvents = 'auto';\n      }\n    }\n  }, visibleItems.length * 50);\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3244h\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jCYVU\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dm81U\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"h2fYN\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4EHhF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kptGM\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dEH5X\")).toString();","import sprite from '../../images/sprite.svg';\nimport alternativeBooks from '../../images/book-logo/empty-logo.png';\nimport alternativeBooks_2x from '../../images/book-logo/empty-logo.png';\nimport amazonImage from '../../images/card/amazon.png';\nimport amazonImage_2x from '../../images/card/amazon@2x.png';\nimport appleImage from '../../images/card/apple.png';\nimport appleImage_2x from '../../images/card/apple@2x.png';\nimport bookshopImage from '../../images/card/bookShop.png';\nimport bookshopImage_2x from '../../images/card/bookShop@2x.png';\n\nexport const shoppingListRef = document.querySelector('.shopping-list-books');\n\nfunction setPagination(bookList) {\n  const totalPages = bookList.length / 3;\n  let btnsMarkup = '';\n  \n  for (let index = 1; index <= totalPages; index += 1) {\n    btnsMarkup += `<button class=\"page-button\">${index}</button>`;\n  }\n  shoppingListRef.insertAdjacentHTML('afterend', btnsMarkup);\n}\n\n\nfunction renderBookList(bookList) {\n  return bookList\n    .map(\n      ({\n        _id,\n        book_image,\n        buy_links,\n        title,\n        book_image_width,\n        book_image_height,\n        list_name,\n        description,\n        author,\n      }) => `\n      <li class=\"galleryitem\">\n              <img\n              class=\"galleryimage\"\n              src=\"${book_image}\"\n              width=\"${book_image_width}\"\n              height=\"${book_image_height}\"\n              alt=\"${title}\"\n              />\n          <div class=\"div_card\">\n          <h2 class=\"title_card\">${title}</h2>\n          <p class=\"category-book\">${list_name}</p>\n          <p class=\"card_text\">${description}</p>\n          <p class=\"card_avter\">${author}</p>\n          </div>\n          <div class=\"list-shops\">\n          <a class=\"shop-link\"  href=\"${buy_links[0].url}\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\">\n            <img class=\"img-amazon\" src=\"${amazonImage}\"\n                srcset=\"${amazonImage_2x} 2x\"\n                alt=\"Amazon shop\" />\n            </a>\n            <a class=\" shop-link\" href=\"${buy_links[1].url}\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\" aria-label=\"Apple-books\">\n            <img class=\"img-apple\" src=\"${appleImage}\"\n                srcset=\"${appleImage_2x} 2x\"\n                alt=\"Apple shop\" />\n            </a>\n            <a class=\"shop-link\" href=\"${buy_links[4].url}\" target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\">\n            <img class=\"img-bookshop\" src=\"${bookshopImage}\"\n                srcset=\"${bookshopImage_2x} 2x\"\n                alt=\"Book shop\" />\n            </a>\n            </div>\n            <button class=\"btn-card_close\" data-book-id=\"${_id}\">\n            <svg class=\"btn-svg-close\">\n                <use href=\"${sprite}#icon-trash\"></use>\n            </svg>\n            </button>\n      </li>`\n    )\n    .join('');\n}\n\nfunction renderEmptyShoppingList() {\n  shoppingListRef.classList.add('empty');\n\n  return `\n  <p class=\"empty-shopping-text\">This page is empty, add some books and proceed to order.</p>\n  <img class=\"empty-shopping-books-img\" src=\"${alternativeBooks}\" srcset=\"${alternativeBooks_2x} 2x\" alt=\"Alternative Books, when shopping list is empty\">\n  `;\n}\n\nexport function renderShoppingList(bookList) {\n  setPagination(bookList);\n  shoppingListRef.innerHTML = bookList ? renderBookList(bookList) : renderEmptyShoppingList();;\n}","import { shoppingListRef, renderShoppingList } from './shopping-markup';\n\nfunction getBookListFromStorage() {\n  return JSON.parse(localStorage.getItem('SHOPPING-BOOKS-LIST'));\n}\n\nfunction checkViewPortForSupportDisplay() {\n  const supportRef = document.querySelector('.support');\n  const viewportWidth = window.innerWidth;\n\n  if (viewportWidth < 1440) {\n    supportRef.classList.add('is-hide');\n  }\n}\n\nfunction removeBookInLocalStorage(bookId) {\n  const bookList = getBookListFromStorage();\n  const updateBookList = bookList.filter(book => book._id !== bookId);\n\n  if (updateBookList.length === 0) {\n    localStorage.removeItem('SHOPPING-BOOKS-LIST');\n  } else {\n    localStorage.setItem('SHOPPING-BOOKS-LIST', JSON.stringify(updateBookList));\n  }\n}\n\ncheckViewPortForSupportDisplay();\nrenderShoppingList(getBookListFromStorage());\n\nshoppingListRef.addEventListener('click', ({ target }) => {\n  const bookCard = target.closest('.btn-card_close');\n  if (bookCard) {\n    const bookId = bookCard.dataset.bookId;\n\n    removeBookInLocalStorage(bookId);\n    renderShoppingList(getBookListFromStorage());\n  }\n});"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a1a0a16dd851f067$var$bodyRef","document","querySelector","$a1a0a16dd851f067$var$switherRef","$a1a0a16dd851f067$var$savedSwitcherState","localStorage","getItem","addEventListener","setItem","checked","classList","toggle","$7b7f3c83e05fc7c2$var$mobileMenuBtn","$7b7f3c83e05fc7c2$var$mobileMenu","$7b7f3c83e05fc7c2$var$body","links","querySelectorAll","currentPage","window","location","href","forEach","link","add","$7b7f3c83e05fc7c2$var$setActivePage","$b435fa9c350e0431$var$list","$b435fa9c350e0431$var$loadMoreButton","$b435fa9c350e0431$var$itemsPerPage","innerWidth","$b435fa9c350e0431$var$start","$b435fa9c350e0431$var$showItems","start1","count","i2","children","i1","item","remove","span","createElement","insertBefore","firstChild","textContent","visibleItems","index","setTimeout","style","opacity","pointerEvents","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$8ada167d27c0a203$exports","$6cd41d3c13e27335$exports","$8fb2dc9a11a59b86$exports","$fa1fc8473201c228$exports","$359844964fbdd736$exports","$4be9924e33f3ebba$exports","$b351f32617ce9831$exports","$44b1437bba8bd6f3$export$d2398a54932e1ece","$44b1437bba8bd6f3$export$65c31c1b2a0552b2","bookList","totalPages","btnsMarkup","insertAdjacentHTML","$44b1437bba8bd6f3$var$setPagination","innerHTML","map","_id","book_image","buy_links","title","book_image_width","book_image_height","list_name","description","author","$parcel$interopDefault","join","$44b1437bba8bd6f3$var$renderBookList","$606b42f89d197427$var$getBookListFromStorage","supportRef","$606b42f89d197427$var$checkViewPortForSupportDisplay","target","bookCard","closest","bookId","updateBookList","filter","book","removeItem","stringify","$606b42f89d197427$var$removeBookInLocalStorage","dataset"],"version":3,"file":"shopping-list.66702667.js.map"}